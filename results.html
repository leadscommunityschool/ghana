<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student Results - Leads Community School</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/style.css">
<style>
body {font-family:sans-serif;background:#f9f9f9;margin:0;padding:0;}
header {background:#083f1d;color:white;padding:15px;text-align:center;}
.results-container {max-width:900px;margin:20px auto;padding:20px;background:white;border-radius:10px;box-shadow:0 0 15px rgba(0,0,0,0.2);}
.results-container h2 {margin-bottom:20px;text-align:center;}
.result-card {padding:15px;margin:10px 0;border-radius:8px;border:1px solid #ccc;background:#f7f7f7;}
.result-card p {margin:5px 0;}
</style>
</head>
<body>

<header>
<h1>Student Results</h1>
</header>

<div class="results-container" id="resultsContainer">
<h2>Loading Results...</h2>
</div>

<!-- FIREBASE SDK + FIRESTORE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyAD5Z3CXC8JvQVYhdxn5xbgLJ3WfIl_MZ4",
  authDomain: "leadscommunityschool-8570e.firebaseapp.com",
  projectId: "leadscommunityschool-8570e",
  storageBucket: "leadscommunityschool-8570e.appspot.com",
  messagingSenderId: "690085434671",
  appId: "1:690085434671:web:48bfbbac17928aad5f3dda"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const resultsContainer = document.getElementById("resultsContainer");
resultsContainer.innerHTML = '<h2>Loading Results...</h2>';

async function loadResults(){
  resultsContainer.innerHTML = '';
  const querySnapshot = await getDocs(collection(db,'results'));
  if(querySnapshot.empty){
    resultsContainer.innerHTML = '<h2>No Results Found</h2>';
    return;
  }

  querySnapshot.forEach(doc=>{
    const data = doc.data();
    const card = document.createElement('div');
    card.classList.add('result-card');
    card.innerHTML = `
      <p><strong>Student Name:</strong> ${data.title || 'N/A'}</p>
      <p><strong>Subject:</strong> ${data.subject || 'N/A'}</p>
      <p><strong>Score/Grade:</strong> ${data.score || 'N/A'}</p>
    `;
    resultsContainer.appendChild(card);
  });
}

loadResults();
</script>

</body>
</html>
